{% extends "dashboard.html" %}

{% block title %}Topics{% endblock %}

{% block content %}
<h1>Topics</h1>
{% if current_user.is_authenticated %}
    <a href="{{ url_for('main.add_topic') }}">Add New Topic</a>
{% endif %}
<ul>
    {% for topic in topics %}
    <li>
        {{ topic.title }} - <a href="{{ url_for('main.posts', topic_id=topic.id) }}">View Posts</a>
        <a href="{{ url_for('main.edit_topic', topic_id=topic.id) }}">Edit</a>
        <form action="{{ url_for('main.delete_topic', topic_id=topic.id) }}" method="post" onsubmit="return confirm('Are you sure you want to delete this topic?');">
            <button type="submit">Delete</button>
        </form>
    </li>
    {% endfor %}
</ul>
{% endblock %}
